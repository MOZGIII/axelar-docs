# Introduction to the Express Service

Axelar's Express Service allows Interchain [GMP](https://docs.axelar.dev/dev/general-message-passing/overview) transactions to execute significantly quicker than regular GMP transactions. This is done through executing the transaction on the destination chain before the source chain transaction is completely finalized.  Through bypassing the (occasionally) long wait time for [source chain finality](https://docs.axelar.dev/learn/txduration), overall interchain transaction speed is significantly increased.

## Express vs non-Express comparison

The following are two example transactions that took place between the Linea and Polygon chains:

* [Express transaction](https://axelarscan.io/gmp/0x4dbf091ebf31157bf73995c0fb473f115888bd1f11793359807d543ada03f021:11): 18 seconds execution time
* [Non-Express transaction](https://axelarscan.io/gmp/0xc3653cda8535c59e0418b57250c504528a493dd5556fc4cb71b80f8c0a867e62:2): 28 minutes execution time

## Express Executable vs. Valued Express Executable

If your protocol requires Express support for arbitrary GMP messages, where the value of the payload can alter the state of the contract, you can use the Valued Express Executable.

Regular Express Executables have tokens being sent with them. With the Valued Express Executable, the relayer is able to calculate the value of a GMP message in the event that the message itself has a value with no tokens being sent. 

To use the Valued Express Executable, call either the `contractCallWithTokenValue()` or `callContractValue()` function to trigger your interchain transaction. These functions will return the value that the call is worth. 

If `tokenAddress` is `0`, then the value will be set in terms of the native token. Otherwise, it will be set in terms of the token address.

Under the hood the relayer dynamically queries the value of the payload from the contract itself, in terms of how much amount and in what token it will need to loan if allowlisted.

Protocols that integrate with the Valued Express Executable must keep the following in mind: 

1. They must be allowlisted since the relayer cannot trust arbitrary contracts.
2. The value of the payload in terms of a token is not state or time dependent, so the value cannot change between the time the call is triggered on the source chain and when it is executed on the destination chain.This restriction can be removed, but since it will require the relayer to assume more risk, there will be an [additional fee to the protocol](#fees).

## Express ITS tokens

Interchain Tokens deployed via the [Interchain Token Service](https://axelar.network/its) can be added to the Express Service.

## Integrate with Express

Protocols integrated with Express contracts will not automatically have transactions going through the Express service. They must be onboarded in coordination with the Axelar team to integrate with Express. 

1. Each protocol must [provide a fee](#fees) as insurance for the Express transaction.
2. Once liquidity has been provided, the contract must [inherit from either](#axelar-executable-vs-axelar-valued-express-executable) the [`AxelarExpressExecutable`](https://github.com/axelarnetwork/axelar-gmp-sdk-solidity/blob/main/contracts/express/AxelarExpressExecutable.sol) or the [`AxelarValuedExpressExecutable`](https://github.com/axelarnetwork/axelar-gmp-sdk-solidity/blob/main/contracts/express/AxelarValuedExpressExecutable.sol) contracts.

### Required onboarding information

To onboard a protocol, you must provide the following:

- The address of the contract integrating with Express
- The assets (tokens) to be sent in Express transactions from that contract
    - The maximum value to be Expressed in a single GMP call
    - The maximum value to be Expressed in a 30-minute window
- The EVM chains to be enabled for Express transactions

## Fees

Since the Express service instantly executes the transaction on the destination chain, any changes on the source chain between the time the transaction is sent and the time it is finalized (for example, due to a [block reorg](https://cointelegraph.com/explained/what-is-chain-reorganization-in-blockchain-technology)) could lead to funds being lost.

To mitigate this risk, Express transactions require an additional [fee](https://docs.axelar.dev/dev/reference/pricing#callcontractwithtokenexpress-gmp-express) alongside existing GMP fees. This extra fee acts as insurance for the Express relayer for assuming the risk of an Express transaction.

### Fee estimation

The [`estimateGasFee()`](https://docs.axelar.dev/dev/axelarjs-sdk/axelar-query-api#estimategasfee) function provides the estimated cost when estimating gas for an interchain transaction. This same function can be used to estimate gas costs for an Express transaction. You'll just need to provide some more information to help it specify an accurate gas estimation.

For example, in an Express transaction from Polygon to Avalanche:

```
await api.estimateGasFee(
    "Polygon",
    "Avalanche",
    "MATIC",
    500000,
    1.1,
    "0",
    {
      showDetailedFees: true,
      transferAmount: inputTokenAmount, // In terms of symbol, not unit denom. E.g. use 1 for 1 axlUSDC, not 1000000
      sourceContractAddress: sourceChainAddress,
      destinationContractAddress: destinationChainAddress
      tokenSymbol: "axlUSDC", //aUSDC for testnet
    } 
)
```

## Payload validity risk

In a non-Express transaction, an Axelar relayer triggers a transaction with either the `execute()` or `executeWithToken()` function. The GMP payload can be assumed to be true as it passes through the [validation process](https://github.com/axelarnetwork/axelar-cgp-solidity/blob/4d01eb6ea1b5413520d9ecab804f815103021148/contracts/AxelarGateway.sol#L233) on the Axelar Gateway.

// Subject to change, Ben to fact-check

However, in an Express call, the execution on the destination chain occurs before the source chain finalizes. Thus, you cannot rely on the validation process. Instead, use the transaction's unique [command ID](https://github.com/axelarnetwork/axelar-core/blob/main/docs/cli/axelard_query_evm_command.md) to reconstruct the message.



